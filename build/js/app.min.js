(function () {
'use strict';

// jshint esversion: 6
const MASHAPE_KEY = 'AyBmxPBKYUmshcuDOEgra2staJv9p1Tm8cgjsnsk5j9j5dONbK';

function getSearchResults(userQuery) {
  let ajaxSettings = {
    url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/food/site/search',
    data: {
      query: userQuery
    },
    dataType: 'json',
    headers: {
      'X-Mashape-Key': MASHAPE_KEY,
      Accept: 'application/json'
    }
  };
  return $.ajax(ajaxSettings);
}

function getRecipeDetails(id) {
  let ajaxSettings = {
    url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/'+id+'/information',
    data: {
      includeNutrition: false
    },
    dataType: 'json',
    headers: {
      'X-Mashape-Key': MASHAPE_KEY,
      Accept: 'application/json'
    }
  };
  return $.ajax(ajaxSettings);
}

// function getSearchResultsByIngredient(myIngredients, numResults=5) {
//   let ajaxSettings = {
//     url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/findByIngredients',
//     data: {
//       fillIngredients: false,
//       ingredients: myIngredients,
//       limitLicense: false,
//       number: numResults,
//       ranking: 1
//     },
//     dataType: 'json',
//     headers: {
//       'X-Mashape-Key': MASHAPE_KEY,
//       Accept: 'application/json'
//     }
//   };
//   return $.ajax(ajaxSettings);
// }

// jshint esversion:6
const CLIENT_ID = 'myj4y8uy5mlsg9s';
const REDIRECT_URI$1 = 'http://localhost/spoon-n-drop/build/';
const STORAGE_PATH = '/my-recipes.json';

function OAuth(){
  let url = 'https://www.dropbox.com/oauth2/authorize?'+
  'response_type=token&'+
  'client_id='+CLIENT_ID+'&'+
  'redirect_uri='+REDIRECT_URI$1;
  window.location.replace(url);
}
/*GET and param urls used to avoid CORS pre-flight*/
function getMyRecipes() {
  let ajaxSettings = {
    url: 'https://content.dropboxapi.com/2/files/download',
    method: 'GET',
    dataType: 'json',
    data: {
      authorization: 'Bearer '+ window.sessionStorage.getItem('accessToken'),
      arg: JSON.stringify({path: STORAGE_PATH}),
      reject_cors_preflight: true
    }
  };
  return $.ajax(ajaxSettings);
}

function deleteFileHelper() {
  let ajaxSettings = {
    url: 'https://api.dropboxapi.com/2/files/delete',
    method: 'POST',
    dataType: 'json',
    contentType: 'application/json',
    data: JSON.stringify({path: STORAGE_PATH}),
    headers : {
      Authorization: 'Bearer '+window.sessionStorage.getItem('accessToken')
    }
  };
  return $.ajax(ajaxSettings);
}

function postMyRecipes(state) {
  let ajaxSettings = {
    url: 'https://content.dropboxapi.com/2/files/upload',
    method: 'POST',
    contentType: 'application/octet-stream',
    data: JSON.stringify(state.myRecipes),
    headers: {
      Authorization: 'Bearer '+window.sessionStorage.getItem('accessToken'),
      'Dropbox-API-Arg': JSON.stringify({path: STORAGE_PATH})
    }
  };
  return $.ajax(ajaxSettings);
}

// jshint esversion:6

function addRecipe(state) {
  let title = $('#recipe-title').val();
  let time = $('#ready-in-mins').val();
  let ingredients = []; //{name, amount}
  let $ingredientName;
  $('#ingredients').find('li').each(function (index,element) {
    ingredients.push({
      name: $(element).find('.ingredient-name').val(),
      amount: $(element).find('.ingredient-amount').val()
    });
  });

  let steps = [];
  $('#steps').find('input').each(
    (index, element) => steps.push($(element).val())
  );

  state.myRecipes.push({
    title: title,
    readyInMinutes: time,
    listofIngredients: ingredients,
    instructions: steps
  });
}

function newListItem($element, keyPressed) {
  if(keyPressed === 'Enter') {
    if ($element.hasClass('ingredient')) {
    $element.after('<li class="ingredient">'+
    '<input type="text" class="ingredient-name" placeholder="new item">'+
    '<input type="text" class="ingredient-amount" placeholder="amount">'+
    '</li>');
    }
    else {
      $element.after('<li><input type="text" placeholder="new step"></li>');
    }
  }
}

// jshint esversion:6
function makeResultsList(resultObj, state) {
  let recipeId = '';
  state.resultList = [];
  $.each(resultObj.Recipes, function(ind, obj) {
    recipeId = obj.link.split('-').pop();

    state.resultList.push({
      title: obj.name,
      imgUrl: obj.image,
      id: recipeId
    });
  });
}

function renderResultsList(state){
  let previewHtml = '';
  $.each(state.resultList, function(ind, obj) {
    previewHtml += '<li data-recipeid="'+obj.id+'"><a>'+
    '<img src="'+obj.imgUrl+'" alt="'+obj.title+'">'+
    '<span>'+obj.title+'</span>'+
    '<form><input type="submit"></form>'+
    '</li></a>';
  });
  $('#search-results').html(previewHtml);
}

function simplifyRecipeDetails(recipeObj) {
  /*Refer to 'get-recipe-info-sample-response.json' for recipeObj's complete structure*/
  let ingredients = [];
  $.each(recipeObj.extendedIngredients, function(ind, obj) {
    ingredients.push({
      name: obj.name,
      amount: obj.amount + obj.unitLong
    });
  });
  let steps = [];
  if (typeof recipeObj.analyzedInstructions[0] !== 'undefined') {
    $.each(recipeObj.analyzedInstructions[0].steps, function(ind, obj) {
      steps.push(obj.step);
    });
  }
  return {
    title: recipeObj.title,
    readyInMinutes: recipeObj.readyInMinutes,
    listofIngredients: ingredients,
    instructions: steps
  };
}

// jshint esversion:6

function showList(state) {
  let $myRecipes = $('#my-recipes-page');
  let html = '';

  $.each(state.myRecipes, function(index, recipeObj) {
    html += '<li class="my-recipe-list-item">' + recipeObj.title + ' ' + recipeObj.readyInMinutes +
    '<button class="edit-recipe">Edit</button>'+
    '<button class="delete-recipe">Delete</button></li>';
  });
  $myRecipes.find('ul').html(html);

}

// jshint esversion:6
function showRecipe($selector, recipe) {
  console.log(recipe);
  let recipeInfo ='<span><h1>'+
    recipe.title+'</h1>'+
    '<h2>'+recipe.readyInMinutes+'minutes</h2></span><ul>';
  $.each(recipe.listofIngredients, function(ind, obj) {
    recipeInfo += '<li>'+obj.amount+obj.name+'</li>';
  });
  recipeInfo += '</ul><ol>';
  $.each(recipe.instructions, function(ind,val) {
    recipeInfo += '<li>'+val+'</li>';
  });
  recipeInfo += '</ol>';

  $selector.html(recipeInfo);
}


function switchView($pageView) {
  $('#new-recipe-page').addClass('hide');
  $('#search-page').addClass('hide');
  $('#my-recipes-page').addClass('hide');
  $('#single-recipe-page').addClass('hide');
  $pageView.removeClass('hide');
}

//jshint esversion: 6

const REDIRECT_URI = 'http://localhost/spoon-n-drop/build/';
function initAppState() {
  return {
    resultList: [],
    currentView: 'search',
    previousHtml: '',
    myRecipes: [], //list of recipe objs
    loggedIn: false,
    accessToken: '',
    currentRecipe: {}
  };
}

function userHasAccessToken(token) {
  if(token !== 'undefined' && token !== null) {return true;}
  else {
    let redirectResponse = window.location.href.split('#')[1];
    if(typeof redirectResponse != 'undefined') {
      window.sessionStorage.setItem('accessToken', redirectResponse.split('&')[0].split('=')[1]);
      window.location.replace(REDIRECT_URI);
      return true;
    }
    else {return false;}
  }
}

$(function main() {
  let appState = initAppState();
  let token = window.sessionStorage.getItem('accessToken');

  if(userHasAccessToken(token)) {
    appState.loggedIn = true;
    $('#login').text('Logged In');
  }

  $('#login').on('click', () => { if(!appState.loggedIn) {OAuth();} });

  $('#search-for-recipes').on('click', () => switchView($('#search-page')));

  $('#search-form').on('submit', function(event) {
    event.preventDefault();
    let query = $(this).find('#search-bar').val();
    getSearchResults(query).done(function (data) {
      makeResultsList(data,appState);
      renderResultsList(appState);
    });
  });

  $('#search-results').on('click','li',function() {
    let xhr = getRecipeDetails($(this).data('recipeid'));
    xhr.done( function (data) {
      const $recipePage = $('#single-recipe-page');
      switchView($recipePage);
      appState.currentRecipe = simplifyRecipeDetails(data);
      showRecipe($recipePage.find('.recipe-container'), appState.currentRecipe
      );
    });
  });

  $('#create-recipe').on('click', () => switchView($('#new-recipe-page')) );

  $('#my-recipes').on('click', function () {
    if(appState.loggedIn) {
      getMyRecipes().then(
        data => {
          appState.myRecipes = data;
          console.log(appState.myRecipes);
          switchView($('#my-recipes-page'));
          showList(appState);
        },
        jqxhr => console.log(jqxhr.responseText)
      );
    }
  });

  $('#my-recipes-page').on('click', '.my-recipe-list-item', function() {
    const position = $('#my-recipes-page').find('li').index($(this));
    showRecipe(
      $('#single-recipe-page').find('.recipe-container'), appState.myRecipes[position]
    );
  });
  $('#my-recipes-page').on('click', '.edit-recipe', function() {

  });

  $('#my-recipes-page').on('click', '.delete-recipe', function (event) {
    event.stopPropagation();
    const index = $('.delete-recipe').index($(this));
    appState.myRecipes.splice(index,1);
    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => {console.log('Success');showList(appState);},
        jqxhr => console.log(jqxhr.responseText)
      )
    );
  });

  $('#new-recipe-page').find('form').on('click', 'button', function(event) {
    event.preventDefault();
    addRecipe(appState);
    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => console.log('Success'),
        jqxhr => console.log(jqxhr.responseText)
      )
    );
  });

  $('.create-list').on('keypress', 'li', function (event) {
    newListItem($(this), event.key);
  });

  $('#single-recipe-page').on('click', '#add-to-my-recipes', function() {
    appState.myRecipes.push(appState.currentRecipe);
    console.log(appState.myRecipes);
    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => console.log('Success'),
        jqxhr => console.log(jqxhr.responseText)
      )
    );
    $(this).text('In My Recipes');
  });
});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9hcGkvc3Bvb25hY3VsYXIuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL2FwaS9kcm9wYm94LmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9wYWdlLXZpZXdzL2NyZWF0ZS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvcGFnZS12aWV3cy9zZWFyY2guanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3BhZ2Utdmlld3MvbXktcmVjaXBlcy5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvcGFnZS12aWV3cy9yZW5kZXItZ2VuZXJpYy5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBqc2hpbnQgZXN2ZXJzaW9uOiA2XG5jb25zdCBNQVNIQVBFX0tFWSA9ICdBeUJteFBCS1lVbXNoY3VET0VncmEyc3RhSnY5cDFUbThjZ2pzbnNrNWo5ajVkT05iSyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHRzKHVzZXJRdWVyeSkge1xuICBsZXQgYWpheFNldHRpbmdzID0ge1xuICAgIHVybDogJ2h0dHBzOi8vc3Bvb25hY3VsYXItcmVjaXBlLWZvb2QtbnV0cml0aW9uLXYxLnAubWFzaGFwZS5jb20vZm9vZC9zaXRlL3NlYXJjaCcsXG4gICAgZGF0YToge1xuICAgICAgcXVlcnk6IHVzZXJRdWVyeVxuICAgIH0sXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1NYXNoYXBlLUtleSc6IE1BU0hBUEVfS0VZLFxuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG4gIH07XG4gIHJldHVybiAkLmFqYXgoYWpheFNldHRpbmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlY2lwZURldGFpbHMoaWQpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL3Nwb29uYWN1bGFyLXJlY2lwZS1mb29kLW51dHJpdGlvbi12MS5wLm1hc2hhcGUuY29tL3JlY2lwZXMvJytpZCsnL2luZm9ybWF0aW9uJyxcbiAgICBkYXRhOiB7XG4gICAgICBpbmNsdWRlTnV0cml0aW9uOiBmYWxzZVxuICAgIH0sXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1NYXNoYXBlLUtleSc6IE1BU0hBUEVfS0VZLFxuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG4gIH07XG4gIHJldHVybiAkLmFqYXgoYWpheFNldHRpbmdzKTtcbn1cblxuLy8gZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0c0J5SW5ncmVkaWVudChteUluZ3JlZGllbnRzLCBudW1SZXN1bHRzPTUpIHtcbi8vICAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbi8vICAgICB1cmw6ICdodHRwczovL3Nwb29uYWN1bGFyLXJlY2lwZS1mb29kLW51dHJpdGlvbi12MS5wLm1hc2hhcGUuY29tL3JlY2lwZXMvZmluZEJ5SW5ncmVkaWVudHMnLFxuLy8gICAgIGRhdGE6IHtcbi8vICAgICAgIGZpbGxJbmdyZWRpZW50czogZmFsc2UsXG4vLyAgICAgICBpbmdyZWRpZW50czogbXlJbmdyZWRpZW50cyxcbi8vICAgICAgIGxpbWl0TGljZW5zZTogZmFsc2UsXG4vLyAgICAgICBudW1iZXI6IG51bVJlc3VsdHMsXG4vLyAgICAgICByYW5raW5nOiAxXG4vLyAgICAgfSxcbi8vICAgICBkYXRhVHlwZTogJ2pzb24nLFxuLy8gICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICdYLU1hc2hhcGUtS2V5JzogTUFTSEFQRV9LRVksXG4vLyAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuLy8gICAgIH1cbi8vICAgfTtcbi8vICAgcmV0dXJuICQuYWpheChhamF4U2V0dGluZ3MpO1xuLy8gfVxuIiwiLy8ganNoaW50IGVzdmVyc2lvbjo2XG5jb25zdCBDTElFTlRfSUQgPSAnbXlqNHk4dXk1bWxzZzlzJztcbmNvbnN0IFJFRElSRUNUX1VSSSA9ICdodHRwOi8vbG9jYWxob3N0L3Nwb29uLW4tZHJvcC9idWlsZC8nO1xuY29uc3QgU1RPUkFHRV9QQVRIID0gJy9teS1yZWNpcGVzLmpzb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gT0F1dGgoKXtcbiAgbGV0IHVybCA9ICdodHRwczovL3d3dy5kcm9wYm94LmNvbS9vYXV0aDIvYXV0aG9yaXplPycrXG4gICdyZXNwb25zZV90eXBlPXRva2VuJicrXG4gICdjbGllbnRfaWQ9JytDTElFTlRfSUQrJyYnK1xuICAncmVkaXJlY3RfdXJpPScrUkVESVJFQ1RfVVJJO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xufVxuLypHRVQgYW5kIHBhcmFtIHVybHMgdXNlZCB0byBhdm9pZCBDT1JTIHByZS1mbGlnaHQqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE15UmVjaXBlcygpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kb3dubG9hZCcsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgIGRhdGE6IHtcbiAgICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgJysgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyksXG4gICAgICBhcmc6IEpTT04uc3RyaW5naWZ5KHtwYXRoOiBTVE9SQUdFX1BBVEh9KSxcbiAgICAgIHJlamVjdF9jb3JzX3ByZWZsaWdodDogdHJ1ZVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuICQuYWpheChhamF4U2V0dGluZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRmlsZUhlbHBlcigpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2RlbGV0ZScsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtwYXRoOiBTVE9SQUdFX1BBVEh9KSxcbiAgICBoZWFkZXJzIDoge1xuICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnK3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpXG4gICAgfVxuICB9O1xuICByZXR1cm4gJC5hamF4KGFqYXhTZXR0aW5ncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3N0TXlSZWNpcGVzKHN0YXRlKSB7XG4gIGxldCBhamF4U2V0dGluZ3MgPSB7XG4gICAgdXJsOiAnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvdXBsb2FkJyxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3RhdGUubXlSZWNpcGVzKSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcrd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyksXG4gICAgICAnRHJvcGJveC1BUEktQXJnJzogSlNPTi5zdHJpbmdpZnkoe3BhdGg6IFNUT1JBR0VfUEFUSH0pXG4gICAgfVxuICB9O1xuICByZXR1cm4gJC5hamF4KGFqYXhTZXR0aW5ncyk7XG59XG4iLCIvLyBqc2hpbnQgZXN2ZXJzaW9uOjZcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlY2lwZShzdGF0ZSkge1xuICBsZXQgdGl0bGUgPSAkKCcjcmVjaXBlLXRpdGxlJykudmFsKCk7XG4gIGxldCB0aW1lID0gJCgnI3JlYWR5LWluLW1pbnMnKS52YWwoKTtcbiAgbGV0IGluZ3JlZGllbnRzID0gW107IC8ve25hbWUsIGFtb3VudH1cbiAgbGV0ICRpbmdyZWRpZW50TmFtZTtcbiAgJCgnI2luZ3JlZGllbnRzJykuZmluZCgnbGknKS5lYWNoKGZ1bmN0aW9uIChpbmRleCxlbGVtZW50KSB7XG4gICAgaW5ncmVkaWVudHMucHVzaCh7XG4gICAgICBuYW1lOiAkKGVsZW1lbnQpLmZpbmQoJy5pbmdyZWRpZW50LW5hbWUnKS52YWwoKSxcbiAgICAgIGFtb3VudDogJChlbGVtZW50KS5maW5kKCcuaW5ncmVkaWVudC1hbW91bnQnKS52YWwoKVxuICAgIH0pO1xuICB9KTtcblxuICBsZXQgc3RlcHMgPSBbXTtcbiAgJCgnI3N0ZXBzJykuZmluZCgnaW5wdXQnKS5lYWNoKFxuICAgIChpbmRleCwgZWxlbWVudCkgPT4gc3RlcHMucHVzaCgkKGVsZW1lbnQpLnZhbCgpKVxuICApO1xuXG4gIHN0YXRlLm15UmVjaXBlcy5wdXNoKHtcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgcmVhZHlJbk1pbnV0ZXM6IHRpbWUsXG4gICAgbGlzdG9mSW5ncmVkaWVudHM6IGluZ3JlZGllbnRzLFxuICAgIGluc3RydWN0aW9uczogc3RlcHNcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdMaXN0SXRlbSgkZWxlbWVudCwga2V5UHJlc3NlZCkge1xuICBpZihrZXlQcmVzc2VkID09PSAnRW50ZXInKSB7XG4gICAgaWYgKCRlbGVtZW50Lmhhc0NsYXNzKCdpbmdyZWRpZW50JykpIHtcbiAgICAkZWxlbWVudC5hZnRlcignPGxpIGNsYXNzPVwiaW5ncmVkaWVudFwiPicrXG4gICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5ncmVkaWVudC1uYW1lXCIgcGxhY2Vob2xkZXI9XCJuZXcgaXRlbVwiPicrXG4gICAgJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5ncmVkaWVudC1hbW91bnRcIiBwbGFjZWhvbGRlcj1cImFtb3VudFwiPicrXG4gICAgJzwvbGk+Jyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJGVsZW1lbnQuYWZ0ZXIoJzxsaT48aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIm5ldyBzdGVwXCI+PC9saT4nKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIGpzaGludCBlc3ZlcnNpb246NlxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZXN1bHRzTGlzdChyZXN1bHRPYmosIHN0YXRlKSB7XG4gIGxldCByZWNpcGVJZCA9ICcnO1xuICBzdGF0ZS5yZXN1bHRMaXN0ID0gW107XG4gICQuZWFjaChyZXN1bHRPYmouUmVjaXBlcywgZnVuY3Rpb24oaW5kLCBvYmopIHtcbiAgICByZWNpcGVJZCA9IG9iai5saW5rLnNwbGl0KCctJykucG9wKCk7XG5cbiAgICBzdGF0ZS5yZXN1bHRMaXN0LnB1c2goe1xuICAgICAgdGl0bGU6IG9iai5uYW1lLFxuICAgICAgaW1nVXJsOiBvYmouaW1hZ2UsXG4gICAgICBpZDogcmVjaXBlSWRcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJSZXN1bHRzTGlzdChzdGF0ZSl7XG4gIGxldCBwcmV2aWV3SHRtbCA9ICcnO1xuICAkLmVhY2goc3RhdGUucmVzdWx0TGlzdCwgZnVuY3Rpb24oaW5kLCBvYmopIHtcbiAgICBwcmV2aWV3SHRtbCArPSAnPGxpIGRhdGEtcmVjaXBlaWQ9XCInK29iai5pZCsnXCI+PGE+JytcbiAgICAnPGltZyBzcmM9XCInK29iai5pbWdVcmwrJ1wiIGFsdD1cIicrb2JqLnRpdGxlKydcIj4nK1xuICAgICc8c3Bhbj4nK29iai50aXRsZSsnPC9zcGFuPicrXG4gICAgJzxmb3JtPjxpbnB1dCB0eXBlPVwic3VibWl0XCI+PC9mb3JtPicrXG4gICAgJzwvbGk+PC9hPic7XG4gIH0pO1xuICAkKCcjc2VhcmNoLXJlc3VsdHMnKS5odG1sKHByZXZpZXdIdG1sKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBsaWZ5UmVjaXBlRGV0YWlscyhyZWNpcGVPYmopIHtcbiAgLypSZWZlciB0byAnZ2V0LXJlY2lwZS1pbmZvLXNhbXBsZS1yZXNwb25zZS5qc29uJyBmb3IgcmVjaXBlT2JqJ3MgY29tcGxldGUgc3RydWN0dXJlKi9cbiAgbGV0IGluZ3JlZGllbnRzID0gW107XG4gICQuZWFjaChyZWNpcGVPYmouZXh0ZW5kZWRJbmdyZWRpZW50cywgZnVuY3Rpb24oaW5kLCBvYmopIHtcbiAgICBpbmdyZWRpZW50cy5wdXNoKHtcbiAgICAgIG5hbWU6IG9iai5uYW1lLFxuICAgICAgYW1vdW50OiBvYmouYW1vdW50ICsgb2JqLnVuaXRMb25nXG4gICAgfSk7XG4gIH0pO1xuICBsZXQgc3RlcHMgPSBbXTtcbiAgaWYgKHR5cGVvZiByZWNpcGVPYmouYW5hbHl6ZWRJbnN0cnVjdGlvbnNbMF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgJC5lYWNoKHJlY2lwZU9iai5hbmFseXplZEluc3RydWN0aW9uc1swXS5zdGVwcywgZnVuY3Rpb24oaW5kLCBvYmopIHtcbiAgICAgIHN0ZXBzLnB1c2gob2JqLnN0ZXApO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgdGl0bGU6IHJlY2lwZU9iai50aXRsZSxcbiAgICByZWFkeUluTWludXRlczogcmVjaXBlT2JqLnJlYWR5SW5NaW51dGVzLFxuICAgIGxpc3RvZkluZ3JlZGllbnRzOiBpbmdyZWRpZW50cyxcbiAgICBpbnN0cnVjdGlvbnM6IHN0ZXBzXG4gIH07XG59XG4iLCIvLyBqc2hpbnQgZXN2ZXJzaW9uOjZcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dMaXN0KHN0YXRlKSB7XG4gIGxldCAkbXlSZWNpcGVzID0gJCgnI215LXJlY2lwZXMtcGFnZScpO1xuICBsZXQgaHRtbCA9ICcnO1xuXG4gICQuZWFjaChzdGF0ZS5teVJlY2lwZXMsIGZ1bmN0aW9uKGluZGV4LCByZWNpcGVPYmopIHtcbiAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJteS1yZWNpcGUtbGlzdC1pdGVtXCI+JyArIHJlY2lwZU9iai50aXRsZSArICcgJyArIHJlY2lwZU9iai5yZWFkeUluTWludXRlcyArXG4gICAgJzxidXR0b24gY2xhc3M9XCJlZGl0LXJlY2lwZVwiPkVkaXQ8L2J1dHRvbj4nK1xuICAgICc8YnV0dG9uIGNsYXNzPVwiZGVsZXRlLXJlY2lwZVwiPkRlbGV0ZTwvYnV0dG9uPjwvbGk+JztcbiAgfSk7XG4gICRteVJlY2lwZXMuZmluZCgndWwnKS5odG1sKGh0bWwpO1xuXG59XG4iLCIvLyBqc2hpbnQgZXN2ZXJzaW9uOjZcbmV4cG9ydCBmdW5jdGlvbiBzaG93UmVjaXBlKCRzZWxlY3RvciwgcmVjaXBlKSB7XG4gIGNvbnNvbGUubG9nKHJlY2lwZSk7XG4gIGxldCByZWNpcGVJbmZvID0nPHNwYW4+PGgxPicrXG4gICAgcmVjaXBlLnRpdGxlKyc8L2gxPicrXG4gICAgJzxoMj4nK3JlY2lwZS5yZWFkeUluTWludXRlcysnbWludXRlczwvaDI+PC9zcGFuPjx1bD4nO1xuICAkLmVhY2gocmVjaXBlLmxpc3RvZkluZ3JlZGllbnRzLCBmdW5jdGlvbihpbmQsIG9iaikge1xuICAgIHJlY2lwZUluZm8gKz0gJzxsaT4nK29iai5hbW91bnQrb2JqLm5hbWUrJzwvbGk+JztcbiAgfSk7XG4gIHJlY2lwZUluZm8gKz0gJzwvdWw+PG9sPic7XG4gICQuZWFjaChyZWNpcGUuaW5zdHJ1Y3Rpb25zLCBmdW5jdGlvbihpbmQsdmFsKSB7XG4gICAgcmVjaXBlSW5mbyArPSAnPGxpPicrdmFsKyc8L2xpPic7XG4gIH0pO1xuICByZWNpcGVJbmZvICs9ICc8L29sPic7XG5cbiAgJHNlbGVjdG9yLmh0bWwocmVjaXBlSW5mbyk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFZpZXcoJHBhZ2VWaWV3KSB7XG4gICQoJyNuZXctcmVjaXBlLXBhZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuICAkKCcjc2VhcmNoLXBhZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuICAkKCcjbXktcmVjaXBlcy1wYWdlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICRwYWdlVmlldy5yZW1vdmVDbGFzcygnaGlkZScpO1xufVxuIiwiLy9qc2hpbnQgZXN2ZXJzaW9uOiA2XG5cbmltcG9ydCAqIGFzIHJlY2lwZSBmcm9tICcuL21vZHVsZXMvYXBpL3Nwb29uYWN1bGFyJztcbmltcG9ydCAqIGFzIGRyb3Bib3ggZnJvbSAnLi9tb2R1bGVzL2FwaS9kcm9wYm94JztcbmltcG9ydCAqIGFzIGNyZWF0ZSBmcm9tICcuL21vZHVsZXMvcGFnZS12aWV3cy9jcmVhdGUnO1xuaW1wb3J0ICogYXMgc2VhcmNoIGZyb20gJy4vbW9kdWxlcy9wYWdlLXZpZXdzL3NlYXJjaCc7XG5pbXBvcnQgKiBhcyBteV9yZWNpcGVzIGZyb20gJy4vbW9kdWxlcy9wYWdlLXZpZXdzL215LXJlY2lwZXMnO1xuaW1wb3J0ICogYXMgcmVuZGVyIGZyb20gJy4vbW9kdWxlcy9wYWdlLXZpZXdzL3JlbmRlci1nZW5lcmljJztcblxuY29uc3QgUkVESVJFQ1RfVVJJID0gJ2h0dHA6Ly9sb2NhbGhvc3Qvc3Bvb24tbi1kcm9wL2J1aWxkLyc7XG5mdW5jdGlvbiBpbml0QXBwU3RhdGUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdWx0TGlzdDogW10sXG4gICAgY3VycmVudFZpZXc6ICdzZWFyY2gnLFxuICAgIHByZXZpb3VzSHRtbDogJycsXG4gICAgbXlSZWNpcGVzOiBbXSwgLy9saXN0IG9mIHJlY2lwZSBvYmpzXG4gICAgbG9nZ2VkSW46IGZhbHNlLFxuICAgIGFjY2Vzc1Rva2VuOiAnJyxcbiAgICBjdXJyZW50UmVjaXBlOiB7fVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VySGFzQWNjZXNzVG9rZW4odG9rZW4pIHtcbiAgaWYodG9rZW4gIT09ICd1bmRlZmluZWQnICYmIHRva2VuICE9PSBudWxsKSB7cmV0dXJuIHRydWU7fVxuICBlbHNlIHtcbiAgICBsZXQgcmVkaXJlY3RSZXNwb25zZSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMV07XG4gICAgaWYodHlwZW9mIHJlZGlyZWN0UmVzcG9uc2UgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NUb2tlbicsIHJlZGlyZWN0UmVzcG9uc2Uuc3BsaXQoJyYnKVswXS5zcGxpdCgnPScpWzFdKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKFJFRElSRUNUX1VSSSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7cmV0dXJuIGZhbHNlO31cbiAgfVxufVxuXG4kKGZ1bmN0aW9uIG1haW4oKSB7XG4gIGxldCBhcHBTdGF0ZSA9IGluaXRBcHBTdGF0ZSgpO1xuICBsZXQgdG9rZW4gPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnYWNjZXNzVG9rZW4nKTtcblxuICBpZih1c2VySGFzQWNjZXNzVG9rZW4odG9rZW4pKSB7XG4gICAgYXBwU3RhdGUubG9nZ2VkSW4gPSB0cnVlO1xuICAgICQoJyNsb2dpbicpLnRleHQoJ0xvZ2dlZCBJbicpO1xuICB9XG5cbiAgJCgnI2xvZ2luJykub24oJ2NsaWNrJywgKCkgPT4geyBpZighYXBwU3RhdGUubG9nZ2VkSW4pIHtkcm9wYm94Lk9BdXRoKCk7fSB9KTtcblxuICAkKCcjc2VhcmNoLWZvci1yZWNpcGVzJykub24oJ2NsaWNrJywgKCkgPT4gcmVuZGVyLnN3aXRjaFZpZXcoJCgnI3NlYXJjaC1wYWdlJykpKTtcblxuICAkKCcjc2VhcmNoLWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBxdWVyeSA9ICQodGhpcykuZmluZCgnI3NlYXJjaC1iYXInKS52YWwoKTtcbiAgICByZWNpcGUuZ2V0U2VhcmNoUmVzdWx0cyhxdWVyeSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgc2VhcmNoLm1ha2VSZXN1bHRzTGlzdChkYXRhLGFwcFN0YXRlKTtcbiAgICAgIHNlYXJjaC5yZW5kZXJSZXN1bHRzTGlzdChhcHBTdGF0ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJyNzZWFyY2gtcmVzdWx0cycpLm9uKCdjbGljaycsJ2xpJyxmdW5jdGlvbigpIHtcbiAgICBsZXQgeGhyID0gcmVjaXBlLmdldFJlY2lwZURldGFpbHMoJCh0aGlzKS5kYXRhKCdyZWNpcGVpZCcpKTtcbiAgICB4aHIuZG9uZSggZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnN0ICRyZWNpcGVQYWdlID0gJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpO1xuICAgICAgcmVuZGVyLnN3aXRjaFZpZXcoJHJlY2lwZVBhZ2UpO1xuICAgICAgYXBwU3RhdGUuY3VycmVudFJlY2lwZSA9IHNlYXJjaC5zaW1wbGlmeVJlY2lwZURldGFpbHMoZGF0YSk7XG4gICAgICByZW5kZXIuc2hvd1JlY2lwZSgkcmVjaXBlUGFnZS5maW5kKCcucmVjaXBlLWNvbnRhaW5lcicpLCBhcHBTdGF0ZS5jdXJyZW50UmVjaXBlXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICAkKCcjY3JlYXRlLXJlY2lwZScpLm9uKCdjbGljaycsICgpID0+IHJlbmRlci5zd2l0Y2hWaWV3KCQoJyNuZXctcmVjaXBlLXBhZ2UnKSkgKTtcblxuICAkKCcjbXktcmVjaXBlcycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBpZihhcHBTdGF0ZS5sb2dnZWRJbikge1xuICAgICAgZHJvcGJveC5nZXRNeVJlY2lwZXMoKS50aGVuKFxuICAgICAgICBkYXRhID0+IHtcbiAgICAgICAgICBhcHBTdGF0ZS5teVJlY2lwZXMgPSBkYXRhO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGFwcFN0YXRlLm15UmVjaXBlcyk7XG4gICAgICAgICAgcmVuZGVyLnN3aXRjaFZpZXcoJCgnI215LXJlY2lwZXMtcGFnZScpKTtcbiAgICAgICAgICBteV9yZWNpcGVzLnNob3dMaXN0KGFwcFN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAganF4aHIgPT4gY29uc29sZS5sb2coanF4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gICQoJyNteS1yZWNpcGVzLXBhZ2UnKS5vbignY2xpY2snLCAnLm15LXJlY2lwZS1saXN0LWl0ZW0nLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9ICQoJyNteS1yZWNpcGVzLXBhZ2UnKS5maW5kKCdsaScpLmluZGV4KCQodGhpcykpO1xuICAgIHJlbmRlci5zaG93UmVjaXBlKFxuICAgICAgJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpLmZpbmQoJy5yZWNpcGUtY29udGFpbmVyJyksIGFwcFN0YXRlLm15UmVjaXBlc1twb3NpdGlvbl1cbiAgICApO1xuICB9KTtcbiAgJCgnI215LXJlY2lwZXMtcGFnZScpLm9uKCdjbGljaycsICcuZWRpdC1yZWNpcGUnLCBmdW5jdGlvbigpIHtcblxuICB9KTtcblxuICAkKCcjbXktcmVjaXBlcy1wYWdlJykub24oJ2NsaWNrJywgJy5kZWxldGUtcmVjaXBlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgaW5kZXggPSAkKCcuZGVsZXRlLXJlY2lwZScpLmluZGV4KCQodGhpcykpO1xuICAgIGFwcFN0YXRlLm15UmVjaXBlcy5zcGxpY2UoaW5kZXgsMSk7XG4gICAgZHJvcGJveC5kZWxldGVGaWxlSGVscGVyKCkuYWx3YXlzKFxuICAgICAgZGF0YSA9PiBkcm9wYm94LnBvc3RNeVJlY2lwZXMoYXBwU3RhdGUpLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge2NvbnNvbGUubG9nKCdTdWNjZXNzJyk7bXlfcmVjaXBlcy5zaG93TGlzdChhcHBTdGF0ZSk7fSxcbiAgICAgICAganF4aHIgPT4gY29uc29sZS5sb2coanF4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xuXG4gICQoJyNuZXctcmVjaXBlLXBhZ2UnKS5maW5kKCdmb3JtJykub24oJ2NsaWNrJywgJ2J1dHRvbicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjcmVhdGUuYWRkUmVjaXBlKGFwcFN0YXRlKTtcbiAgICBkcm9wYm94LmRlbGV0ZUZpbGVIZWxwZXIoKS5hbHdheXMoXG4gICAgICBkYXRhID0+IGRyb3Bib3gucG9zdE15UmVjaXBlcyhhcHBTdGF0ZSkudGhlbihcbiAgICAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnU3VjY2VzcycpLFxuICAgICAgICBqcXhociA9PiBjb25zb2xlLmxvZyhqcXhoci5yZXNwb25zZVRleHQpXG4gICAgICApXG4gICAgKTtcbiAgfSk7XG5cbiAgJCgnLmNyZWF0ZS1saXN0Jykub24oJ2tleXByZXNzJywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY3JlYXRlLm5ld0xpc3RJdGVtKCQodGhpcyksIGV2ZW50LmtleSk7XG4gIH0pO1xuXG4gICQoJyNzaW5nbGUtcmVjaXBlLXBhZ2UnKS5vbignY2xpY2snLCAnI2FkZC10by1teS1yZWNpcGVzJywgZnVuY3Rpb24oKSB7XG4gICAgYXBwU3RhdGUubXlSZWNpcGVzLnB1c2goYXBwU3RhdGUuY3VycmVudFJlY2lwZSk7XG4gICAgY29uc29sZS5sb2coYXBwU3RhdGUubXlSZWNpcGVzKTtcbiAgICBkcm9wYm94LmRlbGV0ZUZpbGVIZWxwZXIoKS5hbHdheXMoXG4gICAgICBkYXRhID0+IGRyb3Bib3gucG9zdE15UmVjaXBlcyhhcHBTdGF0ZSkudGhlbihcbiAgICAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnU3VjY2VzcycpLFxuICAgICAgICBqcXhociA9PiBjb25zb2xlLmxvZyhqcXhoci5yZXNwb25zZVRleHQpXG4gICAgICApXG4gICAgKTtcbiAgICAkKHRoaXMpLnRleHQoJ0luIE15IFJlY2lwZXMnKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJSRURJUkVDVF9VUkkiLCJkcm9wYm94Lk9BdXRoIiwicmVuZGVyLnN3aXRjaFZpZXciLCJyZWNpcGUuZ2V0U2VhcmNoUmVzdWx0cyIsInNlYXJjaC5tYWtlUmVzdWx0c0xpc3QiLCJzZWFyY2gucmVuZGVyUmVzdWx0c0xpc3QiLCJyZWNpcGUuZ2V0UmVjaXBlRGV0YWlscyIsInNlYXJjaC5zaW1wbGlmeVJlY2lwZURldGFpbHMiLCJyZW5kZXIuc2hvd1JlY2lwZSIsImRyb3Bib3guZ2V0TXlSZWNpcGVzIiwibXlfcmVjaXBlcy5zaG93TGlzdCIsImRyb3Bib3guZGVsZXRlRmlsZUhlbHBlciIsImRyb3Bib3gucG9zdE15UmVjaXBlcyIsImNyZWF0ZS5hZGRSZWNpcGUiLCJjcmVhdGUubmV3TGlzdEl0ZW0iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsb0RBQW9ELENBQUM7O0FBRXpFLEFBQU8sU0FBUyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUU7RUFDMUMsSUFBSSxZQUFZLEdBQUc7SUFDakIsR0FBRyxFQUFFLDZFQUE2RTtJQUNsRixJQUFJLEVBQUU7TUFDSixLQUFLLEVBQUUsU0FBUztLQUNqQjtJQUNELFFBQVEsRUFBRSxNQUFNO0lBQ2hCLE9BQU8sRUFBRTtNQUNQLGVBQWUsRUFBRSxXQUFXO01BQzVCLE1BQU0sRUFBRSxrQkFBa0I7S0FDM0I7R0FDRixDQUFDO0VBQ0YsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0NBQzdCOztBQUVELEFBQU8sU0FBUyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7RUFDbkMsSUFBSSxZQUFZLEdBQUc7SUFDakIsR0FBRyxFQUFFLHFFQUFxRSxDQUFDLEVBQUUsQ0FBQyxjQUFjO0lBQzVGLElBQUksRUFBRTtNQUNKLGdCQUFnQixFQUFFLEtBQUs7S0FDeEI7SUFDRCxRQUFRLEVBQUUsTUFBTTtJQUNoQixPQUFPLEVBQUU7TUFDUCxlQUFlLEVBQUUsV0FBVztNQUM1QixNQUFNLEVBQUUsa0JBQWtCO0tBQzNCO0dBQ0YsQ0FBQztFQUNGLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZ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
