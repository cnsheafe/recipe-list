(function () {
'use strict';

// jshint esversion: 6
const MASHAPE_KEY = 'AyBmxPBKYUmshcuDOEgra2staJv9p1Tm8cgjsnsk5j9j5dONbK';

function getSearchResults(userQuery) {
  let ajaxSettings = {
    url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/food/site/search',
    data: {
      query: userQuery
    },
    dataType: 'json',
    headers: {
      'X-Mashape-Key': MASHAPE_KEY,
      Accept: 'application/json'
    }
  };
  return $.ajax(ajaxSettings);
}

function getRecipeDetails(id) {
  let ajaxSettings = {
    url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/'+id+'/information',
    data: {
      includeNutrition: false
    },
    dataType: 'json',
    headers: {
      'X-Mashape-Key': MASHAPE_KEY,
      Accept: 'application/json'
    }
  };
  return $.ajax(ajaxSettings);
}

// function getSearchResultsByIngredient(myIngredients, numResults=5) {
//   let ajaxSettings = {
//     url: 'https://spoonacular-recipe-food-nutrition-v1.p.mashape.com/recipes/findByIngredients',
//     data: {
//       fillIngredients: false,
//       ingredients: myIngredients,
//       limitLicense: false,
//       number: numResults,
//       ranking: 1
//     },
//     dataType: 'json',
//     headers: {
//       'X-Mashape-Key': MASHAPE_KEY,
//       Accept: 'application/json'
//     }
//   };
//   return $.ajax(ajaxSettings);
// }

// jshint esversion:6
const CLIENT_ID = 'myj4y8uy5mlsg9s';
const REDIRECT_URI$1 = 'http://localhost/spoon-n-drop/build/';
// const REDIRECT_URI = 'https://cnsheafe.github.io/spoon-n-drop/build/';
const STORAGE_PATH = '/my-recipes.json';

function OAuth(){
  let url = 'https://www.dropbox.com/oauth2/authorize?'+
  'response_type=token&'+
  'client_id='+CLIENT_ID+'&'+
  'redirect_uri='+REDIRECT_URI$1;
  window.location.replace(url);
}
/*GET and param urls used to avoid CORS pre-flight*/
function getMyRecipes() {
  let ajaxSettings = {
    url: 'https://content.dropboxapi.com/2/files/download',
    method: 'GET',
    dataType: 'json',
    data: {
      authorization: 'Bearer '+ window.sessionStorage.getItem('accessToken'),
      arg: JSON.stringify({path: STORAGE_PATH}),
      reject_cors_preflight: true
    }
  };
  return $.ajax(ajaxSettings);
}

function deleteFileHelper() {
  let ajaxSettings = {
    url: 'https://api.dropboxapi.com/2/files/delete',
    method: 'POST',
    dataType: 'json',
    contentType: 'application/json',
    data: JSON.stringify({path: STORAGE_PATH}),
    headers : {
      Authorization: 'Bearer '+window.sessionStorage.getItem('accessToken')
    }
  };
  return $.ajax(ajaxSettings);
}

function postMyRecipes(state) {
  let ajaxSettings = {
    url: 'https://content.dropboxapi.com/2/files/upload',
    method: 'POST',
    contentType: 'application/octet-stream',
    data: JSON.stringify(state.myRecipes),
    headers: {
      Authorization: 'Bearer '+window.sessionStorage.getItem('accessToken'),
      'Dropbox-API-Arg': JSON.stringify({path: STORAGE_PATH})
    }
  };
  return $.ajax(ajaxSettings);
}

// jshint esversion:6

function addRecipe() {
  let title = $('#recipe-title').val();
  let time = $('#ready-in-mins').val();
  let ingredients = []; //{name, amount}
  let $ingredientName;
  $('#ingredients').find('li').each(function (index,element) {
    ingredients.push({
      name: $(element).find('.ingredient-name').val(),
      amount: $(element).find('.ingredient-amount').val()
    });
  });

  let steps = [];
  $('#steps').find('input').each(
    (index, element) => steps.push($(element).val())
  );

  return {
    title: title,
    readyInMinutes: time,
    listofIngredients: ingredients,
    instructions: steps
  };
}

function newListItem($element, keyPressed) {
  if(keyPressed === 'Enter') {
    if ($element.hasClass('ingredient')) {
    $element.after('<li class="ingredient">'+
    '<input type="text" class="ingredient-name" placeholder="new item">'+
    '<input type="text" class="ingredient-amount" placeholder="amount">'+
    '</li>');
    }
    else {
      $element.after('<li><input type="text" placeholder="new step"></li>');
    }
  }
}

// jshint esversion:6
function storeResults(resultObj, state) {
  let recipeId = '';
  state.resultList = [];
  $.each(resultObj.Recipes, function(ind, obj) {
    recipeId = obj.link.split('-').pop();

    state.resultList.push({
      title: obj.name,
      imgUrl: obj.image,
      id: recipeId
    });
  });
}

function simplifyRecipe(recipeObj) {
  /*Refer to 'get-recipe-info-sample-response.json' for recipeObj's complete structure*/
  let ingredients = [];
  $.each(recipeObj.extendedIngredients, function(ind, obj) {
    ingredients.push({
      name: obj.name,
      amount: obj.amount + obj.unitLong
    });
  });
  let steps = [];
  if (typeof recipeObj.analyzedInstructions[0] !== 'undefined') {
    $.each(recipeObj.analyzedInstructions[0].steps, function(ind, obj) {
      steps.push(obj.step);
    });
  }
  return {
    title: recipeObj.title,
    readyInMinutes: recipeObj.readyInMinutes,
    listofIngredients: ingredients,
    instructions: steps
  };
}

// jshint esversion:6

function showList(state) {
  const $myRecipes = $('#my-recipes-page');
  let html = '';

  $.each(state.myRecipes, function(index, recipeObj) {
    html += '<li class="my-recipe-list-item">' +
    '<h2>'+recipeObj.title+'</h2>'+
    '<div>' +'<span>'+recipeObj.readyInMinutes+' mins</span>'+
    '<button class="edit-recipe">Edit</button>'+
    '<button class="delete-recipe">Delete</button></li>';
  });
  $myRecipes.find('ul').html(html);

}

// jshint esversion:6
function showRecipe($selector, recipe) {
  console.log(recipe);
  let recipeInfo ='<span><h1>'+
    recipe.title+'</h1>'+
    '<h2>'+recipe.readyInMinutes+' minutes</h2></span>'+
    '<h3>Ingredients</h3><ul>';
  $.each(recipe.listofIngredients, function(ind, obj) {
    recipeInfo += '<li><input type="checkbox">'+obj.amount+
    ' '+obj.name+'</li>';
  });
  recipeInfo += '</ul><h3>Directions</h3><ol>';
  $.each(recipe.instructions, function(ind,val) {
    recipeInfo += '<li>'+val+'</li>';
  });
  recipeInfo += '</ol>';

  $selector.html(recipeInfo);
}

function switchView($pageView) {
  $('#new-recipe-page').addClass('hide');
  $('#search-page').addClass('hide');
  $('#my-recipes-page').addClass('hide');
  $('#single-recipe-page').addClass('hide');
  $pageView.removeClass('hide');
}

// jshint esversion: 6
function showSearchResults(state){
  let previewHtml = '';
  $.each(state.resultList, function(ind, obj) {
    previewHtml += '<li data-recipeid="'+obj.id+'"><a>'+
    '<img src="'+obj.imgUrl+'" alt="'+obj.title+'"></a>'+
    '<span><p>'+obj.title+'</p></span>'+
    // '<form><input type="submit"></form>'+
    '</li>';
  });
  $('#search-results').html(previewHtml);
}

//jshint esversion: 6

const REDIRECT_URI = 'http://localhost/spoon-n-drop/build/';
// const REDIRECT_URI = 'https://cnsheafe.github.io/spoon-n-drop/build/';

function initAppState() {
  return {
    resultList: [],
    currentView: 'search',
    previousHtml: '',
    myRecipes: [], //list of recipe objs
    loggedIn: false,
    accessToken: '',
    currentRecipe: {}
  };
}

function userHasAccessToken(token) {
  if(token !== 'undefined' && token !== null) {return true;}
  else {
    let redirectResponse = window.location.href.split('#')[1];
    if(typeof redirectResponse != 'undefined') {
      window.sessionStorage.setItem('accessToken', redirectResponse.split('&')[0].split('=')[1]);
      window.location.replace(REDIRECT_URI);
      return true;
    }
    else {return false;}
  }
}

$(function main() {
  let appState = initAppState();
  let token = window.sessionStorage.getItem('accessToken');

  if(userHasAccessToken(token)) {
    appState.loggedIn = true;
    $('#login').find('h2').text('Logged In');
  }

  $('#login').on('click', () => { if(!appState.loggedIn) {OAuth();} });

  $('#search-for-recipes').on('click', () => switchView($('#search-page')));

  $('#search-form').on('submit', function(event) {
    event.preventDefault();
    let query = $(this).find('#search-bar').val();
    getSearchResults(query).done(function (data) {
      storeResults(data, appState);
      showSearchResults(appState);
    });
  });

  $('#search-results').on('click','li',function() {
    let xhr = getRecipeDetails($(this).data('recipeid'));
    xhr.done( function (data) {
      const $recipePage = $('#single-recipe-page');
      switchView($recipePage);
      $('#add-to-my-recipes').removeClass('hide');
      appState.currentRecipe = simplifyRecipe(data);
      showRecipe($recipePage.find('.recipe-container'), appState.currentRecipe
      );
    });
  });

  $('#create-recipe').on('click', () => {
    switchView($('#new-recipe-page'));
    $('#add-to-my-recipes').removeClass('hide');
  });

  $('#my-recipes').on('click', function () {
    if(appState.loggedIn) {
      getMyRecipes().then(
        data => {
          appState.myRecipes = data;
          console.log(appState.myRecipes);
          switchView($('#my-recipes-page'));
          showList(appState);
        },
        jqxhr => console.log(jqxhr.responseText)
      );
    }
  });

  $('#my-recipes-page').on('click', '.my-recipe-list-item', function() {
    const position = $('#my-recipes-page').find('li').index($(this));
    switchView($('#single-recipe-page'));
    $('#add-to-my-recipes').addClass('hide');
    showRecipe(
      $('#single-recipe-page').find('.recipe-container'), appState.myRecipes[position]
    );
  });
  $('#my-recipes-page').on('click', '.edit-recipe', function() {
    const position = $('#my-recipes-page').find('.edit-recipe').index($(this));
    switchView($('#create-recipe-page'));
  });

  $('#my-recipes-page').on('click', '.delete-recipe', function (event) {
    event.stopPropagation();
    const index = $('.delete-recipe').index($(this));
    appState.myRecipes.splice(index,1);
    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => {console.log('Success');showList(appState);},
        jqxhr => console.log(jqxhr.responseText)
      )
    );
  });

  $('#new-recipe-page').find('form').on('click', 'button', function(event) {
    event.preventDefault();
    appState.myRecipes.push(addRecipe());

    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => $(this).text('Added to My Recipes'),
        jqxhr => console.log(jqxhr.responseText)
      )
    );
  });

  $('.create-list').on('keypress', 'li', function (event) {
    newListItem($(this), event.key);
  });

  $('#single-recipe-page').on('click', '#add-to-my-recipes', function() {
    appState.myRecipes.push(appState.currentRecipe);
    console.log(appState.myRecipes);
    deleteFileHelper().always(
      data => postMyRecipes(appState).then(
        data => console.log('Success'),
        jqxhr => console.log(jqxhr.responseText)
      )
    );
    $(this).text('In My Recipes');
  });
});

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jb250cm9sbGVyL2FwaS9zcG9vbmFjdWxhci5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY29udHJvbGxlci9hcGkvZHJvcGJveC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvdmlldy9jcmVhdGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL21vZGVsL3NlYXJjaC1tb2RlbC5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvdmlldy9teS1yZWNpcGVzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy92aWV3L3JlbmRlci1nZW5lcmljLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy92aWV3L3NlYXJjaC1yZXN1bHRzLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9jb250cm9sbGVyL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBqc2hpbnQgZXN2ZXJzaW9uOiA2XG5jb25zdCBNQVNIQVBFX0tFWSA9ICdBeUJteFBCS1lVbXNoY3VET0VncmEyc3RhSnY5cDFUbThjZ2pzbnNrNWo5ajVkT05iSyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWFyY2hSZXN1bHRzKHVzZXJRdWVyeSkge1xuICBsZXQgYWpheFNldHRpbmdzID0ge1xuICAgIHVybDogJ2h0dHBzOi8vc3Bvb25hY3VsYXItcmVjaXBlLWZvb2QtbnV0cml0aW9uLXYxLnAubWFzaGFwZS5jb20vZm9vZC9zaXRlL3NlYXJjaCcsXG4gICAgZGF0YToge1xuICAgICAgcXVlcnk6IHVzZXJRdWVyeVxuICAgIH0sXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1NYXNoYXBlLUtleSc6IE1BU0hBUEVfS0VZLFxuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG4gIH07XG4gIHJldHVybiAkLmFqYXgoYWpheFNldHRpbmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlY2lwZURldGFpbHMoaWQpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL3Nwb29uYWN1bGFyLXJlY2lwZS1mb29kLW51dHJpdGlvbi12MS5wLm1hc2hhcGUuY29tL3JlY2lwZXMvJytpZCsnL2luZm9ybWF0aW9uJyxcbiAgICBkYXRhOiB7XG4gICAgICBpbmNsdWRlTnV0cml0aW9uOiBmYWxzZVxuICAgIH0sXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1NYXNoYXBlLUtleSc6IE1BU0hBUEVfS0VZLFxuICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9XG4gIH07XG4gIHJldHVybiAkLmFqYXgoYWpheFNldHRpbmdzKTtcbn1cblxuLy8gZnVuY3Rpb24gZ2V0U2VhcmNoUmVzdWx0c0J5SW5ncmVkaWVudChteUluZ3JlZGllbnRzLCBudW1SZXN1bHRzPTUpIHtcbi8vICAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbi8vICAgICB1cmw6ICdodHRwczovL3Nwb29uYWN1bGFyLXJlY2lwZS1mb29kLW51dHJpdGlvbi12MS5wLm1hc2hhcGUuY29tL3JlY2lwZXMvZmluZEJ5SW5ncmVkaWVudHMnLFxuLy8gICAgIGRhdGE6IHtcbi8vICAgICAgIGZpbGxJbmdyZWRpZW50czogZmFsc2UsXG4vLyAgICAgICBpbmdyZWRpZW50czogbXlJbmdyZWRpZW50cyxcbi8vICAgICAgIGxpbWl0TGljZW5zZTogZmFsc2UsXG4vLyAgICAgICBudW1iZXI6IG51bVJlc3VsdHMsXG4vLyAgICAgICByYW5raW5nOiAxXG4vLyAgICAgfSxcbi8vICAgICBkYXRhVHlwZTogJ2pzb24nLFxuLy8gICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICdYLU1hc2hhcGUtS2V5JzogTUFTSEFQRV9LRVksXG4vLyAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuLy8gICAgIH1cbi8vICAgfTtcbi8vICAgcmV0dXJuICQuYWpheChhamF4U2V0dGluZ3MpO1xuLy8gfVxuIiwiLy8ganNoaW50IGVzdmVyc2lvbjo2XG5jb25zdCBDTElFTlRfSUQgPSAnbXlqNHk4dXk1bWxzZzlzJztcbmNvbnN0IFJFRElSRUNUX1VSSSA9ICdodHRwOi8vbG9jYWxob3N0L3Nwb29uLW4tZHJvcC9idWlsZC8nO1xuLy8gY29uc3QgUkVESVJFQ1RfVVJJID0gJ2h0dHBzOi8vY25zaGVhZmUuZ2l0aHViLmlvL3Nwb29uLW4tZHJvcC9idWlsZC8nO1xuY29uc3QgU1RPUkFHRV9QQVRIID0gJy9teS1yZWNpcGVzLmpzb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gT0F1dGgoKXtcbiAgbGV0IHVybCA9ICdodHRwczovL3d3dy5kcm9wYm94LmNvbS9vYXV0aDIvYXV0aG9yaXplPycrXG4gICdyZXNwb25zZV90eXBlPXRva2VuJicrXG4gICdjbGllbnRfaWQ9JytDTElFTlRfSUQrJyYnK1xuICAncmVkaXJlY3RfdXJpPScrUkVESVJFQ1RfVVJJO1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xufVxuLypHRVQgYW5kIHBhcmFtIHVybHMgdXNlZCB0byBhdm9pZCBDT1JTIHByZS1mbGlnaHQqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE15UmVjaXBlcygpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kb3dubG9hZCcsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgIGRhdGE6IHtcbiAgICAgIGF1dGhvcml6YXRpb246ICdCZWFyZXIgJysgd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyksXG4gICAgICBhcmc6IEpTT04uc3RyaW5naWZ5KHtwYXRoOiBTVE9SQUdFX1BBVEh9KSxcbiAgICAgIHJlamVjdF9jb3JzX3ByZWZsaWdodDogdHJ1ZVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuICQuYWpheChhamF4U2V0dGluZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRmlsZUhlbHBlcigpIHtcbiAgbGV0IGFqYXhTZXR0aW5ncyA9IHtcbiAgICB1cmw6ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2RlbGV0ZScsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtwYXRoOiBTVE9SQUdFX1BBVEh9KSxcbiAgICBoZWFkZXJzIDoge1xuICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnK3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpXG4gICAgfVxuICB9O1xuICByZXR1cm4gJC5hamF4KGFqYXhTZXR0aW5ncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3N0TXlSZWNpcGVzKHN0YXRlKSB7XG4gIGxldCBhamF4U2V0dGluZ3MgPSB7XG4gICAgdXJsOiAnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvdXBsb2FkJyxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScsXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3RhdGUubXlSZWNpcGVzKSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcrd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyksXG4gICAgICAnRHJvcGJveC1BUEktQXJnJzogSlNPTi5zdHJpbmdpZnkoe3BhdGg6IFNUT1JBR0VfUEFUSH0pXG4gICAgfVxuICB9O1xuICByZXR1cm4gJC5hamF4KGFqYXhTZXR0aW5ncyk7XG59XG4iLCIvLyBqc2hpbnQgZXN2ZXJzaW9uOjZcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlY2lwZSgpIHtcbiAgbGV0IHRpdGxlID0gJCgnI3JlY2lwZS10aXRsZScpLnZhbCgpO1xuICBsZXQgdGltZSA9ICQoJyNyZWFkeS1pbi1taW5zJykudmFsKCk7XG4gIGxldCBpbmdyZWRpZW50cyA9IFtdOyAvL3tuYW1lLCBhbW91bnR9XG4gIGxldCAkaW5ncmVkaWVudE5hbWU7XG4gICQoJyNpbmdyZWRpZW50cycpLmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbiAoaW5kZXgsZWxlbWVudCkge1xuICAgIGluZ3JlZGllbnRzLnB1c2goe1xuICAgICAgbmFtZTogJChlbGVtZW50KS5maW5kKCcuaW5ncmVkaWVudC1uYW1lJykudmFsKCksXG4gICAgICBhbW91bnQ6ICQoZWxlbWVudCkuZmluZCgnLmluZ3JlZGllbnQtYW1vdW50JykudmFsKClcbiAgICB9KTtcbiAgfSk7XG5cbiAgbGV0IHN0ZXBzID0gW107XG4gICQoJyNzdGVwcycpLmZpbmQoJ2lucHV0JykuZWFjaChcbiAgICAoaW5kZXgsIGVsZW1lbnQpID0+IHN0ZXBzLnB1c2goJChlbGVtZW50KS52YWwoKSlcbiAgKTtcblxuICByZXR1cm4ge1xuICAgIHRpdGxlOiB0aXRsZSxcbiAgICByZWFkeUluTWludXRlczogdGltZSxcbiAgICBsaXN0b2ZJbmdyZWRpZW50czogaW5ncmVkaWVudHMsXG4gICAgaW5zdHJ1Y3Rpb25zOiBzdGVwc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3TGlzdEl0ZW0oJGVsZW1lbnQsIGtleVByZXNzZWQpIHtcbiAgaWYoa2V5UHJlc3NlZCA9PT0gJ0VudGVyJykge1xuICAgIGlmICgkZWxlbWVudC5oYXNDbGFzcygnaW5ncmVkaWVudCcpKSB7XG4gICAgJGVsZW1lbnQuYWZ0ZXIoJzxsaSBjbGFzcz1cImluZ3JlZGllbnRcIj4nK1xuICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImluZ3JlZGllbnQtbmFtZVwiIHBsYWNlaG9sZGVyPVwibmV3IGl0ZW1cIj4nK1xuICAgICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImluZ3JlZGllbnQtYW1vdW50XCIgcGxhY2Vob2xkZXI9XCJhbW91bnRcIj4nK1xuICAgICc8L2xpPicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICRlbGVtZW50LmFmdGVyKCc8bGk+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJuZXcgc3RlcFwiPjwvbGk+Jyk7XG4gICAgfVxuICB9XG59XG4iLCIvLyBqc2hpbnQgZXN2ZXJzaW9uOjZcbmV4cG9ydCBmdW5jdGlvbiBzdG9yZVJlc3VsdHMocmVzdWx0T2JqLCBzdGF0ZSkge1xuICBsZXQgcmVjaXBlSWQgPSAnJztcbiAgc3RhdGUucmVzdWx0TGlzdCA9IFtdO1xuICAkLmVhY2gocmVzdWx0T2JqLlJlY2lwZXMsIGZ1bmN0aW9uKGluZCwgb2JqKSB7XG4gICAgcmVjaXBlSWQgPSBvYmoubGluay5zcGxpdCgnLScpLnBvcCgpO1xuXG4gICAgc3RhdGUucmVzdWx0TGlzdC5wdXNoKHtcbiAgICAgIHRpdGxlOiBvYmoubmFtZSxcbiAgICAgIGltZ1VybDogb2JqLmltYWdlLFxuICAgICAgaWQ6IHJlY2lwZUlkXG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2ltcGxpZnlSZWNpcGUocmVjaXBlT2JqKSB7XG4gIC8qUmVmZXIgdG8gJ2dldC1yZWNpcGUtaW5mby1zYW1wbGUtcmVzcG9uc2UuanNvbicgZm9yIHJlY2lwZU9iaidzIGNvbXBsZXRlIHN0cnVjdHVyZSovXG4gIGxldCBpbmdyZWRpZW50cyA9IFtdO1xuICAkLmVhY2gocmVjaXBlT2JqLmV4dGVuZGVkSW5ncmVkaWVudHMsIGZ1bmN0aW9uKGluZCwgb2JqKSB7XG4gICAgaW5ncmVkaWVudHMucHVzaCh7XG4gICAgICBuYW1lOiBvYmoubmFtZSxcbiAgICAgIGFtb3VudDogb2JqLmFtb3VudCArIG9iai51bml0TG9uZ1xuICAgIH0pO1xuICB9KTtcbiAgbGV0IHN0ZXBzID0gW107XG4gIGlmICh0eXBlb2YgcmVjaXBlT2JqLmFuYWx5emVkSW5zdHJ1Y3Rpb25zWzBdICE9PSAndW5kZWZpbmVkJykge1xuICAgICQuZWFjaChyZWNpcGVPYmouYW5hbHl6ZWRJbnN0cnVjdGlvbnNbMF0uc3RlcHMsIGZ1bmN0aW9uKGluZCwgb2JqKSB7XG4gICAgICBzdGVwcy5wdXNoKG9iai5zdGVwKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRpdGxlOiByZWNpcGVPYmoudGl0bGUsXG4gICAgcmVhZHlJbk1pbnV0ZXM6IHJlY2lwZU9iai5yZWFkeUluTWludXRlcyxcbiAgICBsaXN0b2ZJbmdyZWRpZW50czogaW5ncmVkaWVudHMsXG4gICAgaW5zdHJ1Y3Rpb25zOiBzdGVwc1xuICB9O1xufVxuIiwiLy8ganNoaW50IGVzdmVyc2lvbjo2XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93TGlzdChzdGF0ZSkge1xuICBjb25zdCAkbXlSZWNpcGVzID0gJCgnI215LXJlY2lwZXMtcGFnZScpO1xuICBsZXQgaHRtbCA9ICcnO1xuXG4gICQuZWFjaChzdGF0ZS5teVJlY2lwZXMsIGZ1bmN0aW9uKGluZGV4LCByZWNpcGVPYmopIHtcbiAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJteS1yZWNpcGUtbGlzdC1pdGVtXCI+JyArXG4gICAgJzxoMj4nK3JlY2lwZU9iai50aXRsZSsnPC9oMj4nK1xuICAgICc8ZGl2PicgKyc8c3Bhbj4nK3JlY2lwZU9iai5yZWFkeUluTWludXRlcysnIG1pbnM8L3NwYW4+JytcbiAgICAnPGJ1dHRvbiBjbGFzcz1cImVkaXQtcmVjaXBlXCI+RWRpdDwvYnV0dG9uPicrXG4gICAgJzxidXR0b24gY2xhc3M9XCJkZWxldGUtcmVjaXBlXCI+RGVsZXRlPC9idXR0b24+PC9saT4nO1xuICB9KTtcbiAgJG15UmVjaXBlcy5maW5kKCd1bCcpLmh0bWwoaHRtbCk7XG5cbn1cbiIsIi8vIGpzaGludCBlc3ZlcnNpb246NlxuZXhwb3J0IGZ1bmN0aW9uIHNob3dSZWNpcGUoJHNlbGVjdG9yLCByZWNpcGUpIHtcbiAgY29uc29sZS5sb2cocmVjaXBlKTtcbiAgbGV0IHJlY2lwZUluZm8gPSc8c3Bhbj48aDE+JytcbiAgICByZWNpcGUudGl0bGUrJzwvaDE+JytcbiAgICAnPGgyPicrcmVjaXBlLnJlYWR5SW5NaW51dGVzKycgbWludXRlczwvaDI+PC9zcGFuPicrXG4gICAgJzxoMz5JbmdyZWRpZW50czwvaDM+PHVsPic7XG4gICQuZWFjaChyZWNpcGUubGlzdG9mSW5ncmVkaWVudHMsIGZ1bmN0aW9uKGluZCwgb2JqKSB7XG4gICAgcmVjaXBlSW5mbyArPSAnPGxpPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj4nK29iai5hbW91bnQrXG4gICAgJyAnK29iai5uYW1lKyc8L2xpPic7XG4gIH0pO1xuICByZWNpcGVJbmZvICs9ICc8L3VsPjxoMz5EaXJlY3Rpb25zPC9oMz48b2w+JztcbiAgJC5lYWNoKHJlY2lwZS5pbnN0cnVjdGlvbnMsIGZ1bmN0aW9uKGluZCx2YWwpIHtcbiAgICByZWNpcGVJbmZvICs9ICc8bGk+Jyt2YWwrJzwvbGk+JztcbiAgfSk7XG4gIHJlY2lwZUluZm8gKz0gJzwvb2w+JztcblxuICAkc2VsZWN0b3IuaHRtbChyZWNpcGVJbmZvKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaFZpZXcoJHBhZ2VWaWV3KSB7XG4gICQoJyNuZXctcmVjaXBlLXBhZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuICAkKCcjc2VhcmNoLXBhZ2UnKS5hZGRDbGFzcygnaGlkZScpO1xuICAkKCcjbXktcmVjaXBlcy1wYWdlJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpLmFkZENsYXNzKCdoaWRlJyk7XG4gICRwYWdlVmlldy5yZW1vdmVDbGFzcygnaGlkZScpO1xufVxuIiwiLy8ganNoaW50IGVzdmVyc2lvbjogNlxuZXhwb3J0IGZ1bmN0aW9uIHNob3dTZWFyY2hSZXN1bHRzKHN0YXRlKXtcbiAgbGV0IHByZXZpZXdIdG1sID0gJyc7XG4gICQuZWFjaChzdGF0ZS5yZXN1bHRMaXN0LCBmdW5jdGlvbihpbmQsIG9iaikge1xuICAgIHByZXZpZXdIdG1sICs9ICc8bGkgZGF0YS1yZWNpcGVpZD1cIicrb2JqLmlkKydcIj48YT4nK1xuICAgICc8aW1nIHNyYz1cIicrb2JqLmltZ1VybCsnXCIgYWx0PVwiJytvYmoudGl0bGUrJ1wiPjwvYT4nK1xuICAgICc8c3Bhbj48cD4nK29iai50aXRsZSsnPC9wPjwvc3Bhbj4nK1xuICAgIC8vICc8Zm9ybT48aW5wdXQgdHlwZT1cInN1Ym1pdFwiPjwvZm9ybT4nK1xuICAgICc8L2xpPic7XG4gIH0pO1xuICAkKCcjc2VhcmNoLXJlc3VsdHMnKS5odG1sKHByZXZpZXdIdG1sKTtcbn1cbiIsIi8vanNoaW50IGVzdmVyc2lvbjogNlxuXG5pbXBvcnQgKiBhcyByZWNpcGUgZnJvbSAnLi9hcGkvc3Bvb25hY3VsYXInO1xuaW1wb3J0ICogYXMgZHJvcGJveCBmcm9tICcuL2FwaS9kcm9wYm94JztcbmltcG9ydCAqIGFzIGNyZWF0ZSBmcm9tICcuLi92aWV3L2NyZWF0ZSc7XG5pbXBvcnQgKiBhcyBzZWFyY2ggZnJvbSAnLi4vbW9kZWwvc2VhcmNoLW1vZGVsJztcbmltcG9ydCAqIGFzIG15X3JlY2lwZXMgZnJvbSAnLi4vdmlldy9teS1yZWNpcGVzJztcbmltcG9ydCAqIGFzIHJlbmRlciBmcm9tICcuLi92aWV3L3JlbmRlci1nZW5lcmljJztcbmltcG9ydCAqIGFzIHNlYXJjaF9yZXN1bHRzIGZyb20gJy4uL3ZpZXcvc2VhcmNoLXJlc3VsdHMnO1xuXG5jb25zdCBSRURJUkVDVF9VUkkgPSAnaHR0cDovL2xvY2FsaG9zdC9zcG9vbi1uLWRyb3AvYnVpbGQvJztcbi8vIGNvbnN0IFJFRElSRUNUX1VSSSA9ICdodHRwczovL2Nuc2hlYWZlLmdpdGh1Yi5pby9zcG9vbi1uLWRyb3AvYnVpbGQvJztcblxuZnVuY3Rpb24gaW5pdEFwcFN0YXRlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3VsdExpc3Q6IFtdLFxuICAgIGN1cnJlbnRWaWV3OiAnc2VhcmNoJyxcbiAgICBwcmV2aW91c0h0bWw6ICcnLFxuICAgIG15UmVjaXBlczogW10sIC8vbGlzdCBvZiByZWNpcGUgb2Jqc1xuICAgIGxvZ2dlZEluOiBmYWxzZSxcbiAgICBhY2Nlc3NUb2tlbjogJycsXG4gICAgY3VycmVudFJlY2lwZToge31cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlckhhc0FjY2Vzc1Rva2VuKHRva2VuKSB7XG4gIGlmKHRva2VuICE9PSAndW5kZWZpbmVkJyAmJiB0b2tlbiAhPT0gbnVsbCkge3JldHVybiB0cnVlO31cbiAgZWxzZSB7XG4gICAgbGV0IHJlZGlyZWN0UmVzcG9uc2UgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdO1xuICAgIGlmKHR5cGVvZiByZWRpcmVjdFJlc3BvbnNlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnYWNjZXNzVG9rZW4nLCByZWRpcmVjdFJlc3BvbnNlLnNwbGl0KCcmJylbMF0uc3BsaXQoJz0nKVsxXSk7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShSRURJUkVDVF9VUkkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge3JldHVybiBmYWxzZTt9XG4gIH1cbn1cblxuJChmdW5jdGlvbiBtYWluKCkge1xuICBsZXQgYXBwU3RhdGUgPSBpbml0QXBwU3RhdGUoKTtcbiAgbGV0IHRva2VuID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc1Rva2VuJyk7XG5cbiAgaWYodXNlckhhc0FjY2Vzc1Rva2VuKHRva2VuKSkge1xuICAgIGFwcFN0YXRlLmxvZ2dlZEluID0gdHJ1ZTtcbiAgICAkKCcjbG9naW4nKS5maW5kKCdoMicpLnRleHQoJ0xvZ2dlZCBJbicpO1xuICB9XG5cbiAgJCgnI2xvZ2luJykub24oJ2NsaWNrJywgKCkgPT4geyBpZighYXBwU3RhdGUubG9nZ2VkSW4pIHtkcm9wYm94Lk9BdXRoKCk7fSB9KTtcblxuICAkKCcjc2VhcmNoLWZvci1yZWNpcGVzJykub24oJ2NsaWNrJywgKCkgPT4gcmVuZGVyLnN3aXRjaFZpZXcoJCgnI3NlYXJjaC1wYWdlJykpKTtcblxuICAkKCcjc2VhcmNoLWZvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBxdWVyeSA9ICQodGhpcykuZmluZCgnI3NlYXJjaC1iYXInKS52YWwoKTtcbiAgICByZWNpcGUuZ2V0U2VhcmNoUmVzdWx0cyhxdWVyeSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgc2VhcmNoLnN0b3JlUmVzdWx0cyhkYXRhLCBhcHBTdGF0ZSk7XG4gICAgICBzZWFyY2hfcmVzdWx0cy5zaG93U2VhcmNoUmVzdWx0cyhhcHBTdGF0ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJyNzZWFyY2gtcmVzdWx0cycpLm9uKCdjbGljaycsJ2xpJyxmdW5jdGlvbigpIHtcbiAgICBsZXQgeGhyID0gcmVjaXBlLmdldFJlY2lwZURldGFpbHMoJCh0aGlzKS5kYXRhKCdyZWNpcGVpZCcpKTtcbiAgICB4aHIuZG9uZSggZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGNvbnN0ICRyZWNpcGVQYWdlID0gJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpO1xuICAgICAgcmVuZGVyLnN3aXRjaFZpZXcoJHJlY2lwZVBhZ2UpO1xuICAgICAgJCgnI2FkZC10by1teS1yZWNpcGVzJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgIGFwcFN0YXRlLmN1cnJlbnRSZWNpcGUgPSBzZWFyY2guc2ltcGxpZnlSZWNpcGUoZGF0YSk7XG4gICAgICByZW5kZXIuc2hvd1JlY2lwZSgkcmVjaXBlUGFnZS5maW5kKCcucmVjaXBlLWNvbnRhaW5lcicpLCBhcHBTdGF0ZS5jdXJyZW50UmVjaXBlXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICAkKCcjY3JlYXRlLXJlY2lwZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICByZW5kZXIuc3dpdGNoVmlldygkKCcjbmV3LXJlY2lwZS1wYWdlJykpO1xuICAgICQoJyNhZGQtdG8tbXktcmVjaXBlcycpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gIH0pO1xuXG4gICQoJyNteS1yZWNpcGVzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGlmKGFwcFN0YXRlLmxvZ2dlZEluKSB7XG4gICAgICBkcm9wYm94LmdldE15UmVjaXBlcygpLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge1xuICAgICAgICAgIGFwcFN0YXRlLm15UmVjaXBlcyA9IGRhdGE7XG4gICAgICAgICAgY29uc29sZS5sb2coYXBwU3RhdGUubXlSZWNpcGVzKTtcbiAgICAgICAgICByZW5kZXIuc3dpdGNoVmlldygkKCcjbXktcmVjaXBlcy1wYWdlJykpO1xuICAgICAgICAgIG15X3JlY2lwZXMuc2hvd0xpc3QoYXBwU3RhdGUpO1xuICAgICAgICB9LFxuICAgICAgICBqcXhociA9PiBjb25zb2xlLmxvZyhqcXhoci5yZXNwb25zZVRleHQpXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG5cbiAgJCgnI215LXJlY2lwZXMtcGFnZScpLm9uKCdjbGljaycsICcubXktcmVjaXBlLWxpc3QtaXRlbScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gJCgnI215LXJlY2lwZXMtcGFnZScpLmZpbmQoJ2xpJykuaW5kZXgoJCh0aGlzKSk7XG4gICAgcmVuZGVyLnN3aXRjaFZpZXcoJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpKTtcbiAgICAkKCcjYWRkLXRvLW15LXJlY2lwZXMnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgIHJlbmRlci5zaG93UmVjaXBlKFxuICAgICAgJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpLmZpbmQoJy5yZWNpcGUtY29udGFpbmVyJyksIGFwcFN0YXRlLm15UmVjaXBlc1twb3NpdGlvbl1cbiAgICApO1xuICB9KTtcbiAgJCgnI215LXJlY2lwZXMtcGFnZScpLm9uKCdjbGljaycsICcuZWRpdC1yZWNpcGUnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9ICQoJyNteS1yZWNpcGVzLXBhZ2UnKS5maW5kKCcuZWRpdC1yZWNpcGUnKS5pbmRleCgkKHRoaXMpKTtcbiAgICByZW5kZXIuc3dpdGNoVmlldygkKCcjY3JlYXRlLXJlY2lwZS1wYWdlJykpO1xuICB9KTtcblxuICAkKCcjbXktcmVjaXBlcy1wYWdlJykub24oJ2NsaWNrJywgJy5kZWxldGUtcmVjaXBlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgaW5kZXggPSAkKCcuZGVsZXRlLXJlY2lwZScpLmluZGV4KCQodGhpcykpO1xuICAgIGFwcFN0YXRlLm15UmVjaXBlcy5zcGxpY2UoaW5kZXgsMSk7XG4gICAgZHJvcGJveC5kZWxldGVGaWxlSGVscGVyKCkuYWx3YXlzKFxuICAgICAgZGF0YSA9PiBkcm9wYm94LnBvc3RNeVJlY2lwZXMoYXBwU3RhdGUpLnRoZW4oXG4gICAgICAgIGRhdGEgPT4ge2NvbnNvbGUubG9nKCdTdWNjZXNzJyk7bXlfcmVjaXBlcy5zaG93TGlzdChhcHBTdGF0ZSk7fSxcbiAgICAgICAganF4aHIgPT4gY29uc29sZS5sb2coanF4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xuXG4gICQoJyNuZXctcmVjaXBlLXBhZ2UnKS5maW5kKCdmb3JtJykub24oJ2NsaWNrJywgJ2J1dHRvbicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBhcHBTdGF0ZS5teVJlY2lwZXMucHVzaChjcmVhdGUuYWRkUmVjaXBlKCkpO1xuXG4gICAgZHJvcGJveC5kZWxldGVGaWxlSGVscGVyKCkuYWx3YXlzKFxuICAgICAgZGF0YSA9PiBkcm9wYm94LnBvc3RNeVJlY2lwZXMoYXBwU3RhdGUpLnRoZW4oXG4gICAgICAgIGRhdGEgPT4gJCh0aGlzKS50ZXh0KCdBZGRlZCB0byBNeSBSZWNpcGVzJyksXG4gICAgICAgIGpxeGhyID0+IGNvbnNvbGUubG9nKGpxeGhyLnJlc3BvbnNlVGV4dClcbiAgICAgIClcbiAgICApO1xuICB9KTtcblxuICAkKCcuY3JlYXRlLWxpc3QnKS5vbigna2V5cHJlc3MnLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBjcmVhdGUubmV3TGlzdEl0ZW0oJCh0aGlzKSwgZXZlbnQua2V5KTtcbiAgfSk7XG5cbiAgJCgnI3NpbmdsZS1yZWNpcGUtcGFnZScpLm9uKCdjbGljaycsICcjYWRkLXRvLW15LXJlY2lwZXMnLCBmdW5jdGlvbigpIHtcbiAgICBhcHBTdGF0ZS5teVJlY2lwZXMucHVzaChhcHBTdGF0ZS5jdXJyZW50UmVjaXBlKTtcbiAgICBjb25zb2xlLmxvZyhhcHBTdGF0ZS5teVJlY2lwZXMpO1xuICAgIGRyb3Bib3guZGVsZXRlRmlsZUhlbHBlcigpLmFsd2F5cyhcbiAgICAgIGRhdGEgPT4gZHJvcGJveC5wb3N0TXlSZWNpcGVzKGFwcFN0YXRlKS50aGVuKFxuICAgICAgICBkYXRhID0+IGNvbnNvbGUubG9nKCdTdWNjZXNzJyksXG4gICAgICAgIGpxeGhyID0+IGNvbnNvbGUubG9nKGpxeGhyLnJlc3BvbnNlVGV4dClcbiAgICAgIClcbiAgICApO1xuICAgICQodGhpcykudGV4dCgnSW4gTXkgUmVjaXBlcycpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIlJFRElSRUNUX1VSSSIsImRyb3Bib3guT0F1dGgiLCJyZW5kZXIuc3dpdGNoVmlldyIsInJlY2lwZS5nZXRTZWFyY2hSZXN1bHRzIiwic2VhcmNoLnN0b3JlUmVzdWx0cyIsInNlYXJjaF9yZXN1bHRzLnNob3dTZWFyY2hSZXN1bHRzIiwicmVjaXBlLmdldFJlY2lwZURldGFpbHMiLCJzZWFyY2guc2ltcGxpZnlSZWNpcGUiLCJyZW5kZXIuc2hvd1JlY2lwZSIsImRyb3Bib3guZ2V0TXlSZWNpcGVzIiwibXlfcmVjaXBlcy5zaG93TGlzdCIsImRyb3Bib3guZGVsZXRlRmlsZUhlbHBlciIsImRyb3Bib3gucG9zdE15UmVjaXBlcyIsImNyZWF0ZS5hZGRSZWNpcGUiLCJjcmVhdGUubmV3TGlzdEl0ZW0iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0EsTUFBTSxXQUFXLEdBQUcsb0RBQW9ELENBQUM7O0FBRXpFLEFBQU8sU0FBUyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUU7RUFDMUMsSUFBSSxZQUFZLEdBQUc7SUFDakIsR0FBRyxFQUFFLDZFQUE2RTtJQUNsRixJQUFJLEVBQUU7TUFDSixLQUFLLEVBQUUsU0FBUztLQUNqQjtJQUNELFFBQVEsRUFBRSxNQUFNO0lBQ2hCLE9BQU8sRUFBRTtNQUNQLGVBQWUsRUFBRSxXQUFXO01BQzVCLE1BQU0sRUFBRSxrQkFBa0I7S0FDM0I7R0FDRixDQUFDO0VBQ0YsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO0NBQzdCOztBQUVELEFBQU8sU0FBUyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7RUFDbkMsSUFBSSxZQUFZLEdBQUc7SUFDakIsR0FBRyxFQUFFLHFFQUFxRSxDQUFDLEVBQUUsQ0FBQyxjQUFjO0lBQzVGLElBQUksRUFBRTtNQUNKLGdCQUFnQixFQUFFLEtBQUs7S0FDeEI7SUFDRCxRQUFRLEVBQUUsTUFBTTtJQUNoQixPQUFPLEVBQUU7TUFDUCxlQUFlLEVBQUUsV0FBVztNQUM1QixNQUFNLEVBQUUsa0JBQWtCO0tBQzNCO0dBQ0YsQ0FBQztFQUNGLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztDQUM3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1CRzs7QUNsREo7QUFDQSxNQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQztBQUNwQyxNQUFNQSxjQUFZLEdBQUcsc0NBQXNDLENBQUM7O0FBRTVELE1BQU0sWUFBWSxHQUFHLGtCQUFrQixDQUFDOztBQUV4QyxB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
